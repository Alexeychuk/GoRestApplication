(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(e){return e.session.authenticated},r=function(e){return e.session.user}},102:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(20),o=n.n(c),i=n(8),u=n(5),l=n(11),s=n(52),d=n(34),E=n(35),S=n(37),f=n(36),p=n(38),m=n(16),b=n(17),R=n(10),O=n(21);n(88);function _(){var e=Object(m.a)(["\n  display: flex;\n  justify-content: space-between;\n  font-size: 20px;\n  width: 100%;\n  padding: 20px 20px 20px 0;\n  margin-bottom: 30px;\n"]);return _=function(){return e},e}var U=b.a.ul(_()),h=Object(i.b)(function(e){return{authenticated:Object(R.a)(e)}})(function(e){var t=e.authenticated;return r.a.createElement(U,null,r.a.createElement("li",null,r.a.createElement(u.b,{className:"navLink",activeClassName:"selected",exact:!0,to:"/"},"Home"," ")),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(u.b,{className:"navLink",activeClassName:"selected",to:"/account"},"Account"," ")),r.a.createElement("li",null,r.a.createElement(u.b,{className:"navLink",activeClassName:"selected",to:"/dashboard"},"Dashboard"," ")),r.a.createElement("li",null,r.a.createElement(u.b,{className:"navLink",activeClassName:"selected",to:"/graph"},"Graph"," "))),!t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(u.b,{className:"navLink",activeClassName:"selected",to:"/login"},"Login"," ")),r.a.createElement("li",null,r.a.createElement(u.b,{className:"navLink",activeClassName:"selected",to:"/signup"},"Signup"," "))))}),g=n(39);function v(){var e=Object(m.a)(["\n  & p {\n    text-align: center;\n    padding-bottom: 10px;\n    font-weight: 700;\n  }\n"]);return v=function(){return e},e}var y=b.a.div(v()),j=Object(l.g)(Object(i.b)(function(e){return{user:Object(R.b)(e)}})(function(e){var t=e.onLogout,n=e.user,a=void 0===n?{first_name:"",last_name:"",email:""}:n,c=e.history;return r.a.createElement(y,null,a&&r.a.createElement(r.a.Fragment,null," ",r.a.createElement("p",null,a.first_name," ",a.last_name),r.a.createElement("p",null,a.email)),r.a.createElement(g.a,{label:"LogOut",onClick:function(){t(),c.replace("/")}}))}));function C(){var e=Object(m.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]);return C=function(){return e},e}var T=b.a.header(C()),N=Object(i.b)(function(e){return{authenticated:Object(R.a)(e)}},function(e){return{onLogout:function(){return e(Object(O.b)())}}})(function(e){var t=e.authenticated,n=e.onLogout;e.user;return r.a.createElement(T,null,r.a.createElement(h,null),t&&r.a.createElement(j,{onLogout:n}))}),w=n(33),L=(n(98),n(57)),I=Object(i.b)(function(e){return{authenticated:Object(R.a)(e)}})(function(e){var t=e.redirectTo,n=void 0===t?"/":t,a=e.authenticated,c=e.component,o=Object(L.a)(e,["redirectTo","authenticated","component"]);return r.a.createElement(l.b,Object.assign({},o,{render:function(e){return a?r.a.createElement(c,e):r.a.createElement(l.a,{to:{pathname:n}})}}))});function k(e){return{opacity:e.opacity,transform:"scale(".concat(e.scale,")")}}function G(e){return Object(w.b)(e,{stiffness:330,damping:22})}var x={atEnter:{opacity:0,scale:1.2},atLeave:{opacity:G(0),scale:G(.8)},atActive:{opacity:G(1),scale:G(1)}},F=Object(a.lazy)(function(){return n.e(9).then(n.bind(null,443))}),H=Object(a.lazy)(function(){return n.e(4).then(n.bind(null,447))}),P=Object(a.lazy)(function(){return n.e(5).then(n.bind(null,448))}),Q=Object(a.lazy)(function(){return n.e(6).then(n.bind(null,445))}),D=Object(a.lazy)(function(){return Promise.all([n.e(2),n.e(7)]).then(n.bind(null,446))}),J=Object(a.lazy)(function(){return n.e(8).then(n.bind(null,444))}),A=function(e){function t(){return Object(d.a)(this,t),Object(S.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.props.refreshUser(),this.props.getList()}},{key:"render",value:function(){var e=this.props.authenticated;return r.a.createElement("div",{style:{padding:"0 60px"}},r.a.createElement(N,null),r.a.createElement(a.Suspense,{fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(w.a,{atEnter:x.atEnter,atLeave:x.atLeave,atActive:x.atActive,mapStyles:k,className:"route-wrapper"},r.a.createElement(l.b,{exact:!0,path:"/",component:F}),r.a.createElement(l.b,{path:"/graph",component:D}),r.a.createElement(I,{redirectTo:"/login",authenticated:e,path:"/dashboard",component:Q}),r.a.createElement(I,{redirectTo:"/",authenticated:e,path:"/account",component:J}),r.a.createElement(l.b,{path:"/login",component:H}),r.a.createElement(l.b,{path:"/signup",component:P}),r.a.createElement(l.a,{to:"/"}))))}}]),t}(a.Component),z={refreshUser:O.d,getList:O.a},K=Object(i.b)(function(e){return{authenticated:Object(R.a)(e)}},z)(A),B=(n(99),n(6)),M=n(58),V=n(32),W=n(59),Y=n.n(W),q=n(60),X=n(25),Z=n(2),$=Object(B.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case Z.a.LOGIN_USER_SUCCESS:case Z.a.SIGNUP_USER_SUCCESS:case Z.a.REFRESH_USER_SUCCESS:return a.response;case Z.a.LOGOUT:return null;default:return e}},authenticated:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case Z.a.SIGNUP_USER_SUCCESS:case Z.a.LOGIN_USER_SUCCESS:case Z.a.REFRESH_USER_SUCCESS:return!0;case Z.a.LOGOUT:return!1;default:return e}},list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case Z.a.FETCH_LIST_SUCCESS:return Object(X.a)(a.response);default:return e}},token:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case Z.a.ADD_TOKEN:return a;case Z.a.LOGOUT:return null;default:return e}}}),ee={key:"session",storage:Y.a,whitelist:["list"]},te=Object(V.a)(ee,$),ne=Object(B.combineReducers)({session:te}),ae=[q.a],re=Object(B.createStore)(ne,{session:{token:null,user:null,authenticated:!1,list:[]}},Object(M.composeWithDevTools)(B.applyMiddleware.apply(void 0,ae))),ce=Object(V.b)(re);o.a.render(r.a.createElement(i.a,{store:re},r.a.createElement(s.a,{loading:null,persistor:ce},r.a.createElement(u.a,{basename:"/"},r.a.createElement(l.b,{component:K})))),document.getElementById("root"))},2:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r}),n.d(t,"g",function(){return c}),n.d(t,"h",function(){return o}),n.d(t,"f",function(){return i}),n.d(t,"n",function(){return u}),n.d(t,"o",function(){return l}),n.d(t,"m",function(){return s}),n.d(t,"k",function(){return d}),n.d(t,"l",function(){return E}),n.d(t,"j",function(){return S}),n.d(t,"d",function(){return f}),n.d(t,"e",function(){return p}),n.d(t,"c",function(){return m}),n.d(t,"i",function(){return b});var a={LOGIN_USER_REQUEST:"LOGIN_USER_REQUEST",LOGIN_USER_SUCCESS:"LOGIN_USER_SUCCESS",LOGIN_USER_ERROR:"LOGIN_USER_ERROR",SIGNUP_USER_REQUEST:"SIGNUP_USER_REQUEST",SIGNUP_USER_SUCCESS:"SIGNUP_USER_SUCCESS",SIGNUP_USER_ERROR:"SIGNUP_USER_ERROR",REFRESH_USER_REQUEST:"REFRESH_USER_REQUEST",REFRESH_USER_SUCCESS:"REFRESH_USER_SUCCESS",REFRESH_USER_ERROR:"REFRESH_USER_ERROR",FETCH_LIST_REQUEST:"FETCH_LIST_REQUEST",FETCH_LIST_SUCCESS:"FETCH_LIST_SUCCESS",FETCH_LIST_ERROR:"FETCH_LIST_ERROR",LOGOUT:"LOGOUT",ADD_TOKEN:"ADD_TOKEN"},r=function(e){return{type:a.ADD_TOKEN,payload:e}},c=function(){return{type:a.LOGIN_USER_REQUEST}},o=function(e){return{type:a.LOGIN_USER_SUCCESS,payload:{response:e}}},i=function(e){return{type:a.LOGIN_USER_ERROR,payload:{error:e}}},u=function(){return{type:a.SIGNUP_USER_REQUEST}},l=function(e){return{type:a.SIGNUP_USER_SUCCESS,payload:{response:e}}},s=function(e){return{type:a.SIGNUP_USER_ERROR,payload:{error:e}}},d=function(){return{type:a.REFRESH_USER_REQUEST}},E=function(e){return{type:a.REFRESH_USER_SUCCESS,payload:{response:e}}},S=function(e){return{type:a.REFRESH_USER_ERROR,payload:{error:e}}},f=function(){return{type:a.FETCH_LIST_REQUEST}},p=function(e){return{type:a.FETCH_LIST_SUCCESS,payload:{response:e}}},m=function(e){return{type:a.FETCH_LIST_ERROR,payload:{error:e}}},b=function(){return{type:a.LOGOUT}}},21:function(e,t,n){"use strict";n.d(t,"e",function(){return l}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return d}),n.d(t,"a",function(){return E}),n.d(t,"b",function(){return S});var a=n(25),r=n(15),c=n.n(r),o=n(2),i=(n(10),n(19)),u=n.n(i);c.a.defaults.baseURL="https://gorest.co.in/public-api",c.a.defaults.headers.common.Authorization="Bearer d0gljb1gsDiihQkN9vhgboheAaEB2mVY6siI";var l=function(e){return function(t){t(Object(o.n)()),t(Object(o.b)(u()(e.password)));var n={email:e.email,first_name:e.first,last_name:e.last,gender:"male"};return c.a.post("/users",n).then(function(n){if(200===n.data._meta.code)if(t(Object(o.o)(n.data.result)),window.localStorage.getItem("pairs")){var r=JSON.parse(window.localStorage.getItem("pairs")),c={token:u()(e.password),email:n.data.result.email,id:n.data.result.id},i=[].concat(Object(a.a)(r),[c]);window.localStorage.setItem("pairs",JSON.stringify(i)),window.localStorage.setItem("currentToken",JSON.stringify(u()(e.password)))}else window.localStorage.setItem("pairs",JSON.stringify([{token:u()(e.password),email:n.data.result.email,id:n.data.result.id}]));return 422===n.data._meta.code&&t(Object(o.m)("invalid data")),n.data._meta.code}).catch(function(e){return t(Object(o.m)(e))})}},s=function(e){return function(t){if(t(Object(o.g)()),!window.localStorage.getItem("pairs"))return Promise.resolve(!1);var n=JSON.parse(window.localStorage.getItem("pairs")).find(function(t){return t.email===e.email&&t.token===u()(e.password)});return n?c.a.get("/users/".concat(n.id)).then(function(n){return t(Object(o.h)(n.data.result)),window.localStorage.setItem("currentToken",JSON.stringify(u()(e.password))),!0}).catch(function(e){return t(Object(o.f)(e))}):Promise.resolve(!1)}},d=function(){return function(e){var t=JSON.parse(window.localStorage.getItem("currentToken"));if(t){var n=JSON.parse(window.localStorage.getItem("pairs")).find(function(e){return e.token===t});if(n)return e(Object(o.k)()),c.a.get("/users/".concat(n.id)).then(function(t){return e(Object(o.l)(t.data.result)),!0}).catch(function(t){return e(Object(o.j)(t))})}}},E=function(){return function(e,t){e(Object(o.d)());c()({url:"/posts",method:"GET",headers:{"content-type":"application/JSON"}}).then(function(t){e(Object(o.e)(t.data.result))}).catch(function(t){console.log(t),e(Object(o.c)(t))})}},S=function(){return function(e){window.localStorage.removeItem("currentToken"),e(Object(o.i)())}}},39:function(e,t,n){"use strict";var a=n(16),r=n(0),c=n.n(r);function o(){var e=Object(a.a)(["\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  color: #fff;\n  background-color: #3f51b5;\n  border: 0;\n  outline: 0;\n  padding: 8px 24px;\n  border-radius: 4px;\n  cursor: pointer;\n  box-shadow: 0px 2px 1px 1px rgba(0, 0, 0, 0.05);\n  font: inherit;\n  text-transform: uppercase;\n  user-select: none;\n\n  transition: background-color 200ms ease-in-out;\n\n  &:hover {\n    box-shadow: 0px 2px 1px 1px rgba(0, 0, 0, 0.15);\n    background-color: #303f9f;\n  }\n"]);return o=function(){return e},e}var i=n(17).a.button(o());t.a=function(e){var t=e.type,n=void 0===t?"button":t,a=e.label,r=void 0===a?"":a,o=e.onClick,u=void 0===o?function(){return null}:o;return c.a.createElement(i,{type:n,onClick:u},r)}},63:function(e,t,n){e.exports=n(102)},88:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}},[[63,1,3]]]);
//# sourceMappingURL=main.78b7d141.chunk.js.map